{% extends "base.html" %}

{% block title %}Week's stats - fiitobalance{% endblock %}

{% block content %}
<div class="header-container">
    <button class="logout-button">Logout</button>
</div>

<div class="centered-container geologica-regular">
    <div class="week-stats-container">
        <div class="week-header">
            <h2 id="week-range" class="geologica-regular week-range">{{ week_start }} - {{ week_end }} balance</h2>
        </div>
        <p class="no_account"><a href="/schedule">Back to schedule</a></p>
        <div class="geologica-regular balance-container">
            <div class="balance-labels">
                <span class="balance-label-left">ðŸ”¥ get more rest</span>
                <span class="balance-label-right">ðŸŒ´</span>
            </div>
            <input type="range" id="balance-scales-week" class="balance-scales" name="volume" min="0" max="450" disabled/>
        </div>

        <!-- Weekly statistics -->
        <div class="week-stats">
            <p id="busiest-day" class="stat-item"><strong>Busiest day:</strong> {{ busiest_day }}</p>
            <p id="avg-workload" class="stat-item"><strong>Average workload:</strong> {{ avg_workload }}/10</p>
            <p id="avg-rest" class="stat-item"><strong>Average rest level:</strong> {{ avg_rest }}/10</p>
        </div>

        <!-- Daily balance scales -->
        <div class="daily-scales">
            {% for day in ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"] %}
            <div class="day-scale">
                <div class="day-label"><strong>{{ day }}</strong></div>
                <input type="range" id="balance-scales-{{ day.lower() }}" class="balance-scales" name="volume" min="0" max="450" disabled/>
                <div class="day-label-right"></div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', path='/scripts/logout.js') }}"></script>
<script type="module" src="{{ url_for('static', path='/scripts/weekStat.js') }}"></script>
{% endblock %}
